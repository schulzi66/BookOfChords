<mat-vertical-stepper #stepper
                      [@fadeInOnEnter]
                      (selectionChange)="onSelectionChanged($event)">
  <mat-step label="{{'exercise_general_info_section' | transloco}}">
    <div class="grid">
      <mat-form-field appearance="outline">
        <mat-label>{{'exercise_name' | transloco}}</mat-label>
        <input #exerciseNameModel="ngModel"
               matInput
               required
               [(ngModel)]="exercise.name"
               name="exerciseName">
      </mat-form-field>

      <mat-form-field appearance="outline">
        <textarea matInput
                  [placeholder]="'description' | transloco"
                  [(ngModel)]="exercise.description"
                  cdkTextareaAutosize
                  #autosize="cdkTextareaAutosize"></textarea>
      </mat-form-field>
    </div>
  </mat-step>
  <mat-step label="{{'exercise_bpm_sound_section' | transloco}}">
    <shared-metronome [bpm]="exercise.currentBpm"
                      [showPlay]="false"
                      (onBpmChanged)="exercise.currentBpm = $event"></shared-metronome>

    <audio class="sound"
           controls>
      <source *ngIf="exercise.sound"
              [src]="exercise.sound">
    </audio>
  </mat-step>

  <mat-step label="{{'exercise_image_section' | transloco}}">
    <div class="upload-section"
         *ngIf="!exercise.pictureUrl; else img">
      <!-- <button mat-button
              (click)="showFileUpload()">{{'upload' | transloco }}</button> -->
      <span>
        {{'nothing_uploaded' | transloco}}
      </span>
    </div>
    <ng-template #img
                 class="image-container">
      <img class="picture"
           [src]="exercise?.pictureUrl">
    </ng-template>
  </mat-step>

  <mat-step label="{{'exercise_documents_section' | transloco}}">
    <div class="upload-section"
         *ngIf="!exercise.pdfUrl; else pdfViewer">
      <!-- <button mat-button
              (click)="showFileUpload()">{{'upload' | transloco }}</button> -->
      <span>
        {{'nothing_uploaded' | transloco}}
      </span>
    </div>
    <ng-template #pdfViewer
                 class="document-container">
      <ngx-extended-pdf-viewer [src]="exercise?.pdfUrl"
                               useBrowserLocale="true"
                               height="80vh"></ngx-extended-pdf-viewer>
    </ng-template>
  </mat-step>
</mat-vertical-stepper>